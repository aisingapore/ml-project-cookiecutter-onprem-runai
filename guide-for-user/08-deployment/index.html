<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content {{cookiecutter.description}}&quot;&quot;><meta name=author content={{cookiecutter.author_name}}><link href=../07-job-orchestration/ rel=prev><link href=../09-batch-inferencing/ rel=next><link rel=icon href=../../favicon.svg><meta name=generator content="mkdocs-1.5.2, mkdocs-material-9.2.3"><title>Deployment - {{cookiecutter.project_name}}</title><link rel=stylesheet href=../../assets/stylesheets/main.0e669242.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.85d0ee34.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../termynal.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=aisg data-md-color-primary=red data-md-color-accent=red> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#deployment class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title={{cookiecutter.project_name}} class="md-header__button md-logo" aria-label={{cookiecutter.project_name}} data-md-component=logo> <img src=../../aisg-logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> {{cookiecutter.project_name}} </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Deployment </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=aisg data-md-color-primary=red data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/aisingapore/ml-project-cookiecutter-onprem-runai title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> aisingapore/ml-project-cookiecutter-onprem-runai </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../01-prerequisites/ class=md-tabs__link> User Guide </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title={{cookiecutter.project_name}} class="md-nav__button md-logo" aria-label={{cookiecutter.project_name}} data-md-component=logo> <img src=../../aisg-logo.png alt=logo> </a> {{cookiecutter.project_name}} </label> <div class=md-nav__source> <a href=https://github.com/aisingapore/ml-project-cookiecutter-onprem-runai title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> aisingapore/ml-project-cookiecutter-onprem-runai </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../01-prerequisites/ class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=../02-preface/ class=md-nav__link> <span class=md-ellipsis> Preface </span> </a> </li> <li class=md-nav__item> <a href=../03-mlops-components-platform/ class=md-nav__link> <span class=md-ellipsis> MLOps Components & Platform </span> </a> </li> <li class=md-nav__item> <a href=../04-dev-wksp/ class=md-nav__link> <span class=md-ellipsis> Developer Workspace </span> </a> </li> <li class=md-nav__item> <a href=../05-virtual-env/ class=md-nav__link> <span class=md-ellipsis> Virtual Environment </span> </a> </li> <li class=md-nav__item> <a href=../06-data-storage-versioning/ class=md-nav__link> <span class=md-ellipsis> Data Storage & Versioning </span> </a> </li> <li class=md-nav__item> <a href=../07-job-orchestration/ class=md-nav__link> <span class=md-ellipsis> Job Orchestration </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Deployment </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#model-artifacts class=md-nav__link> Model Artifacts </a> </li> <li class=md-nav__item> <a href=#model-serving-fastapi class=md-nav__link> Model Serving (FastAPI) </a> <nav class=md-nav aria-label="Model Serving (FastAPI)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#local-server class=md-nav__link> Local Server </a> </li> <li class=md-nav__item> <a href=#pydantic-settings class=md-nav__link> Pydantic Settings </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../09-batch-inferencing/ class=md-nav__link> <span class=md-ellipsis> Batch Inferencing </span> </a> </li> <li class=md-nav__item> <a href=../10-cicd/ class=md-nav__link> <span class=md-ellipsis> CI/CD </span> </a> </li> <li class=md-nav__item> <a href=../11-documentation/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#model-artifacts class=md-nav__link> Model Artifacts </a> </li> <li class=md-nav__item> <a href=#model-serving-fastapi class=md-nav__link> Model Serving (FastAPI) </a> <nav class=md-nav aria-label="Model Serving (FastAPI)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#local-server class=md-nav__link> Local Server </a> </li> <li class=md-nav__item> <a href=#pydantic-settings class=md-nav__link> Pydantic Settings </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=deployment>Deployment<a class=headerlink href=#deployment title="Permanent link">&para;</a></h1> <p>Assuming we have a predictive model that we are satisfied with, we can serve it within a REST API service with which requests can be made to and predictions are returned.</p> <p>Python has plenty of web frameworks that we can leverage on to build our REST API. Popular examples include <a href=https://flask.palletsprojects.com/en/2.0.x/ >Flask</a>, <a href=https://www.djangoproject.com/ >Django</a> and <a href=https://www.starlette.io/ >Starlette</a>. For this guide however, we will resort to the well-known <a href=https://fastapi.tiangolo.com/ >FastAPI</a> (which is based on Starlette itself).</p> <p><strong>Reference(s):</strong></p> <ul> <li><a href="https://www.youtube.com/watch?v=lsMQRaeKNDk">IBM Technology - What is a REST API? (Video)</a></li> </ul> <h2 id=model-artifacts>Model Artifacts<a class=headerlink href=#model-artifacts title="Permanent link">&para;</a></h2> <p>Seen in <a href=../07-job-orchestration/#model-training>"Model Training"</a> , we have the trained models uploaded to ECS through the MLflow Tracking server (done through autolog). With that, we have the following pointers to take note of:</p> <ul> <li>By default, each MLflow experiment run is given a unique ID.</li> <li>When artifacts are uploaded to ECS through MLflow, the artifacts are located within directories named after the unique IDs of the runs.</li> <li>Artifacts for specific runs will be uploaded to a directory with a convention similar to the following: <code>&lt;MLFLOW_EXPERIMENT_ARTIFACT_LOCATION&gt;/&lt;MLFLOW_RUN_UUID&gt;/artifacts</code>.</li> <li>With this path/URI, we can use the AWS CLI to download the predictive model from ECS into a mounted volume when we run the Docker image for the REST APIs.</li> </ul> <p>Here's how you can quickly retrieve the artifact location of a specific MLflow experiment within your VSCode server:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Linux/macOS</label><label for=__tabbed_1_2>Windows PowerShell</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>MLFLOW_TRACKING_URI</span><span class=o>=</span>&lt;MLFLOW_TRACKING_URI&gt;
$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>MLFLOW_TRACKING_USERNAME</span><span class=o>=</span>&lt;MLFLOW_TRACKING_USERNAME&gt;
$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>MLFLOW_TRACKING_PASSWORD</span><span class=o>=</span>&lt;MLFLOW_TRACKING_PASSWORD&gt;
$<span class=w>  </span>python<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;import mlflow; mlflow_experiment = mlflow.get_experiment_by_name(&#39;&lt;NAME_OF_DEFAULT_MLFLOW_EXPERIMENT&gt;&#39;); print(mlflow_experiment.artifact_location)&quot;</span>
s3://&lt;BUCKET_NAME&gt;/subdir/paths
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=nv>$Env:MLFLOW_TRACKING_URI</span><span class=p>=&lt;</span><span class=n>MLFLOW_TRACKING_URI</span><span class=p>&gt;</span>
<span class=p>$</span> <span class=nv>$Env:MLFLOW_TRACKING_USERNAME</span><span class=p>=&lt;</span><span class=n>MLFLOW_TRACKING_USERNAME</span><span class=p>&gt;</span>
<span class=p>$</span> <span class=nv>$Env:MLFLOW_TRACKING_PASSWORD</span><span class=p>=&lt;</span><span class=n>MLFLOW_TRACKING_PASSWORD</span><span class=p>&gt;</span>
<span class=p>$</span>  <span class=n>python</span> <span class=n>-c</span> <span class=s2>&quot;import mlflow; mlflow_experiment = mlflow.get_experiment_by_name(&#39;&lt;NAME_OF_DEFAULT_MLFLOW_EXPERIMENT&gt;&#39;); print(mlflow_experiment.artifact_location)&quot;</span>
<span class=n>s3</span><span class=p>://&lt;</span><span class=n>BUCKET_NAME</span><span class=p>&gt;/</span><span class=n>subdir</span><span class=p>/</span><span class=n>paths</span>
</code></pre></div> </div> </div> </div> <p>To list the contents of the artifact location, you can use the AWS CLI (installed within the VSCOde server by default) like so:</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Linux/macOS</label><label for=__tabbed_2_2>Windows PowerShell</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>AWS_ACCESS_KEY_ID</span><span class=o>=</span>&lt;AWS_ACCESS_KEY_ID&gt;
$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>AWS_SECRET_ACCESS_KEY</span><span class=o>=</span>&lt;AWS_SECRET_ACCESS_KEY&gt;
$<span class=w> </span>aws<span class=w> </span>s3<span class=w> </span>ls<span class=w> </span>--endpoint-url<span class=w> </span><span class=s2>&quot;https://necs.nus.edu.sg&quot;</span><span class=w> </span>&lt;MLFLOW_EXPERIMENT_ARTIFACT_LOCATION&gt;/
<span class=w>                       </span>PRE<span class=w> </span>XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX/
<span class=w>                       </span>PRE<span class=w> </span>YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY/
<span class=w>                       </span>PRE<span class=w> </span>ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ/
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=nv>$Env:AWS_ACCESS_KEY_ID</span><span class=p>=&lt;</span><span class=n>AWS_ACCESS_KEY_ID</span><span class=p>&gt;</span>
<span class=p>$</span> <span class=nv>$Env:AWS_SECRET_ACCESS_KEY</span><span class=p>=&lt;</span><span class=n>AWS_SECRET_ACCESS_KEY</span><span class=p>&gt;</span>
<span class=p>$</span> <span class=n>aws</span> <span class=n>s3</span> <span class=nb>ls </span><span class=p>-</span><span class=n>-endpoint-url</span> <span class=s2>&quot;https://necs.nus.edu.sg&quot;</span> <span class=p>&lt;</span><span class=n>MLFLOW_EXPERIMENT_ARTIFACT_LOCATION</span><span class=p>&gt;/</span>
                       <span class=n>PRE</span> <span class=n>XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span><span class=p>/</span>
                       <span class=n>PRE</span> <span class=n>YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY</span><span class=p>/</span>
                       <span class=n>PRE</span> <span class=n>ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ</span><span class=p>/</span>
</code></pre></div> </div> </div> </div> <p>What would be listed are subdirectories named after MLflow experiment unique IDs. Within each of these subdirectories, we will find the artifacts uploaded to ECS.To list the artifacts of a specific run, we can run a command like the following:</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Linux/macOS</label><label for=__tabbed_3_2>Windows PowerShell</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span>aws<span class=w> </span>s3<span class=w> </span>ls<span class=w> </span>--recursive<span class=w> </span>--endpoint-url<span class=w> </span><span class=s2>&quot;https://necs.nus.edu.sg&quot;</span><span class=w> </span>&lt;MLFLOW_EXPERIMENT_ARTIFACT_LOCATION&gt;/&lt;MLFLOW_RUN_UUID&gt;
YYYY-MM-DD<span class=w> </span>hh:mm:ss<span class=w>   </span>XXXXXXXX<span class=w> </span>&lt;MLFLOW_EXPERIMENT_ARTIFACT_LOCATION&gt;/&lt;MLFLOW_RUN_UUID&gt;/artifacts/model/model.pt
YYYY-MM-DD<span class=w> </span>hh:mm:ss<span class=w>   </span>XXXXXXXX<span class=w> </span>&lt;MLFLOW_EXPERIMENT_ARTIFACT_LOCATION&gt;/&lt;MLFLOW_RUN_UUID&gt;/artifacts/train_model_config.json
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=n>aws</span> <span class=n>s3</span> <span class=nb>ls </span><span class=p>-</span><span class=n>-recursive</span> <span class=p>-</span><span class=n>-endpoint-url</span> <span class=s2>&quot;https://necs.nus.edu.sg&quot;</span> <span class=p>&lt;</span><span class=n>MLFLOW_EXPERIMENT_ARTIFACT_LOCATION</span><span class=p>&gt;/&lt;</span><span class=n>MLFLOW_RUN_UUID</span><span class=p>&gt;</span>
<span class=n>YYYY-MM-DD</span> <span class=n>hh</span><span class=p>:</span><span class=n>mm</span><span class=p>:</span><span class=n>ss</span>   <span class=n>XXXXXXXX</span> <span class=p>&lt;</span><span class=n>MLFLOW_EXPERIMENT_ARTIFACT_LOCATION</span><span class=p>&gt;/&lt;</span><span class=n>MLFLOW_RUN_UUID</span><span class=p>&gt;/</span><span class=n>artifacts</span><span class=p>/</span><span class=n>model</span><span class=p>/</span><span class=n>model</span><span class=p>.</span><span class=n>pt</span>
<span class=n>YYYY-MM-DD</span> <span class=n>hh</span><span class=p>:</span><span class=n>mm</span><span class=p>:</span><span class=n>ss</span>   <span class=n>XXXXXXXX</span> <span class=p>&lt;</span><span class=n>MLFLOW_EXPERIMENT_ARTIFACT_LOCATION</span><span class=p>&gt;/&lt;</span><span class=n>MLFLOW_RUN_UUID</span><span class=p>&gt;/</span><span class=n>artifacts</span><span class=p>/</span><span class=n>train_model_config</span><span class=p>.</span><span class=n>json</span>
</code></pre></div> </div> </div> </div> <p>Now that we have established on how we are to obtain the models for the API server, let's look into the servers themselves.</p> <h2 id=model-serving-fastapi>Model Serving (FastAPI)<a class=headerlink href=#model-serving-fastapi title="Permanent link">&para;</a></h2> <p>FastAPI is a web framework that has garnered much popularity in recent years due to ease of adoption with its comprehensive tutorials, type and schema validation, being async capable and having automated docs, among other things. These factors have made it a popular framework within AI Singapore across many projects.</p> <p>If you were to inspect the <code>src</code> folder, you would notice that there exist more than one package:</p> <ul> <li><code>{{cookiecutter.src_package_name}}</code></li> <li><code>{{cookiecutter.src_package_name}}_fastapi</code></li> </ul> <p>The former contains the modules for executing pipelines like data preparation and model training while the latter is dedicated to modules meant for the REST API. Regardless, the packages can be imported by each other.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>It is recommended that you grasp some basics of the FastAPI framework, up till the <a href=https://fastapi.tiangolo.com/tutorial/ >beginner tutorials</a> for better understanding of this section.</p> </div> <p>Let's try running the boilerplate API server on a local machine. Before doing that, identify from the MLflow dashboard the unique ID of the experiment run that resulted in the predictive model that you would like to serve.</p> <p><img alt="MLflow - Dashboard Run View" src=../assets/screenshots/mlflow-dashboard-run-view.png></p> <p>With reference to the example screenshot above, the UUID for the experiment run is <code>7251ac3655934299aad4cfebf5ffddbe</code>. Once the ID of the MLflow run has been obtained, let's download the model that we intend to serve. Assuming you're in the root of this template's repository, execute the following commands:</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:2><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>Linux/macOS</label><label for=__tabbed_4_2>Windows PowerShell</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>PRED_MODEL_UUID</span><span class=o>=</span>&lt;MLFLOW_RUN_UUID&gt;
$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>PRED_MODEL_ECS_S3_URI</span><span class=o>=</span>&lt;MLFLOW_EXPERIMENT_ARTIFACT_LOCATION&gt;/<span class=nv>$PRED_MODEL_UUID</span>
$<span class=w> </span>aws<span class=w> </span>s3<span class=w> </span>cp<span class=w> </span>--recursive<span class=w> </span>--endpoint-url<span class=w> </span><span class=s2>&quot;https://necs.nus.edu.sg&quot;</span><span class=w> </span><span class=nv>$PRED_MODEL_ECS_S3_URI</span><span class=w> </span>./models/<span class=nv>$PRED_MODEL_UUID</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=nv>$Env:PRED_MODEL_UUID</span><span class=p>=&lt;</span><span class=n>MLFLOW_RUN_UUID</span><span class=p>&gt;</span>
<span class=p>$</span> <span class=nv>$Env:PRED_MODEL_ECS_S3_URI</span><span class=p>=&lt;</span><span class=n>MLFLOW_EXPERIMENT_ARTIFACT_LOCATION</span><span class=p>&gt;/</span><span class=nv>$Env:MLFLOW_RUN_UUID</span>
<span class=p>$</span> <span class=n>aws</span> <span class=n>s3</span> <span class=nb>cp </span><span class=p>-</span><span class=n>-recursive</span> <span class=p>-</span><span class=n>-endpoint-url</span> <span class=s2>&quot;https://necs.nus.edu.sg&quot;</span> <span class=nv>$Env:PRED_MODEL_ECS_S3_URI</span> <span class=p>.\</span><span class=n>models</span><span class=p>\</span><span class=nv>$Env:PRED_MODEL_UUID</span>
</code></pre></div> </div> </div> </div> <p>Executing the commands above will download the artifacts related to the experiment run <code>&lt;MLFLOW_RUN_UUID&gt;</code> to this repository's subdirectory <code>models</code>. However, the specific subdirectory that is relevant for our modules to load will be <code>./models/&lt;MLFLOW_RUN_UUID&gt;/artifacts/model/model.pt</code>. Let's export this path to an environment variable:</p> <div class="tabbed-set tabbed-alternate" data-tabs=5:2><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>Linux/macOS</label><label for=__tabbed_5_2>Windows PowerShell</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span><span class=nb>export</span><span class=w> </span><span class=nv>PRED_MODEL_PATH</span><span class=o>=</span><span class=s2>&quot;</span><span class=nv>$PWD</span><span class=s2>/models/</span><span class=nv>$PRED_MODEL_UUID</span><span class=s2>/artifacts/model/model.pt&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=nv>$Env:PRED_MODEL_PATH</span><span class=p>=</span><span class=s2>&quot;</span><span class=p>$(</span><span class=nb>Get-Location</span><span class=p>)</span><span class=s2>\models\$Env:PRED_MODEL_UUID\artifacts\model\model.pt&quot;</span>
</code></pre></div> </div> </div> </div> <p>The variable exported above (<code>PRED_MODEL_UUID</code> and <code>PRED_MODEL_PATH</code>) will be used by the FastAPI server to load the model for prediction. We will get back to this in a bit. For now, let's proceed and spin up an inference server using the package that exists within the repository.</p> <h3 id=local-server>Local Server<a class=headerlink href=#local-server title="Permanent link">&para;</a></h3> <p>Run the FastAPI server using <a href=https://gunicorn.org>Gunicorn</a> (for Linux/macOS) or <a href=https://www.uvicorn.org/ ><code>uvicorn</code></a> (for Windows):</p> <div class="admonition attention"> <p class=admonition-title>Attention</p> <p>Gunicorn is only executable on UNIX-based or UNIX-like systems, this method would not be possible/applicable for Windows machine.</p> </div> <div class="tabbed-set tabbed-alternate" data-tabs=6:2><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><input id=__tabbed_6_2 name=__tabbed_6 type=radio><div class=tabbed-labels><label for=__tabbed_6_1>Linux/macOS</label><label for=__tabbed_6_2>Windows PowerShell</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span>conda<span class=w> </span>activate<span class=w> </span><span class=o>{{</span>cookiecutter.repo_name<span class=o>}}</span>
$<span class=w> </span><span class=nb>cd</span><span class=w> </span>src
$<span class=w> </span>gunicorn<span class=w> </span><span class=o>{{</span>cookiecutter.src_package_name<span class=o>}}</span>_fastapi.main:APP<span class=w> </span>-b<span class=w> </span><span class=m>0</span>.0.0.0:8080<span class=w> </span>-w<span class=w> </span><span class=m>4</span><span class=w> </span>-k<span class=w> </span>uvicorn.workers.UvicornWorker
</code></pre></div> <p>See <a href=https://fastapi.tiangolo.com/deployment/server-workers/ >here</a> as to why Gunicorn is to be used instead of just <a href=https://www.uvicorn.org/ >Uvicorn</a>. TLDR: Gunicorn is needed to spin up multiple processes/workers to handle more requests i.e. better for the sake of production needs.</p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=n>conda</span> <span class=n>activate</span> <span class=p>{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>repo_name</span><span class=p>}}</span>
<span class=p>$</span> <span class=nb>cd </span><span class=n>src</span>
<span class=p>$</span> <span class=n>uvicorn</span> <span class=p>{{</span><span class=n>cookiecutter</span><span class=p>.</span><span class=n>src_package_name</span><span class=p>}}</span><span class=n>_fastapi</span><span class=p>.</span><span class=n>main</span><span class=p>:</span><span class=n>APP</span>
</code></pre></div> </div> </div> </div> <p>In another terminal, use the <code>curl</code> command to submit a request to the API:</p> <div class="tabbed-set tabbed-alternate" data-tabs=7:2><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><input id=__tabbed_7_2 name=__tabbed_7 type=radio><div class=tabbed-labels><label for=__tabbed_7_1>Linux/macOS</label><label for=__tabbed_7_2>Windows PowerShell</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>$<span class=w> </span>curl<span class=w> </span>-X<span class=w> </span>POST<span class=w> </span><span class=se>\</span>
localhost:8080/api/v1/model/predict<span class=w> </span><span class=se>\</span>
-H<span class=w> </span><span class=s1>&#39;Content-Type: multipart/form-data&#39;</span><span class=w> </span><span class=se>\</span>
-F<span class=w> </span><span class=s2>&quot;image_file=@/path/to/image/file&quot;</span>
<span class=o>{</span><span class=s2>&quot;data&quot;</span>:<span class=o>[{</span><span class=s2>&quot;image_filename&quot;</span>:<span class=s2>&quot;XXXXX.png&quot;</span>,<span class=s2>&quot;prediction&quot;</span>:<span class=s2>&quot;X&quot;</span><span class=o>}]}</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=p>$</span> <span class=n>curl</span><span class=p>.</span><span class=n>exe</span> <span class=s1>&#39;-X&#39;</span><span class=p>,</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=p>`</span>
<span class=s1>&#39;localhost:8080/api/v1/model/predict&#39;</span><span class=p>,</span> <span class=p>`</span>
<span class=s1>&#39;-H&#39;</span><span class=p>,</span> <span class=s1>&#39;Content-Type: multipart/form-data&#39;</span><span class=p>,</span> <span class=p>`</span>
<span class=s1>&#39;-F&#39;</span><span class=p>,</span> <span class=s1>&#39;&quot;image_file=@\path\to\image\file&quot;&#39;</span><span class=p>,</span>
<span class=p>{</span><span class=s2>&quot;data&quot;</span><span class=p>:[{</span><span class=s2>&quot;image_filename&quot;</span><span class=p>:</span><span class=s2>&quot;XXXXX.png&quot;</span><span class=p>,</span><span class=s2>&quot;prediction&quot;</span><span class=p>:</span><span class=s2>&quot;X&quot;</span><span class=p>}]}</span>
</code></pre></div> </div> </div> </div> <p>With the returned JSON object, we have successfully submitted a request to the FastAPI server and it returned predictions as part of the response.</p> <h3 id=pydantic-settings>Pydantic Settings<a class=headerlink href=#pydantic-settings title="Permanent link">&para;</a></h3> <p>Now you might be wondering, how does the FastAPI server knows the path to the model for it to load? FastAPI utilises <a href=https://pydantic-docs.helpmanual.io/ >Pydantic</a>, a library for data and schema validation, as well as <a href="https://fastapi.tiangolo.com/advanced/settings/?h=env#pydantic-settings">settings management</a>. There's a class called <code>Settings</code> under the module <code>src/{{cookiecutter.src_package_name}}_fastapi/config.py</code>. This class contains several fields: some are defined and some others not. The fields <code>PRED_MODEL_UUID</code> and <code>PRED_MODEL_PATH</code> inherit their values from the environment variables.</p> <p><code>src/{{cookiecutter.src_package_name}}_fastapi/config.py</code>:</p> <div class=highlight><pre><span></span><code><span class=o>...</span>
<span class=k>class</span> <span class=nc>Settings</span><span class=p>(</span><span class=n>pydantic</span><span class=o>.</span><span class=n>BaseSettings</span><span class=p>):</span>

    <span class=n>API_NAME</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;{{cookiecutter.src_package_name}}_fastapi&quot;</span>
    <span class=n>API_V1_STR</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;/api/v1&quot;</span>
    <span class=n>LOGGER_CONFIG_PATH</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;../conf/base/logging.yaml&quot;</span>

    <span class=n>USE_CUDA</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=n>USE_MPS</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=n>PRED_MODEL_UUID</span><span class=p>:</span> <span class=nb>str</span>
    <span class=n>PRED_MODEL_PATH</span><span class=p>:</span> <span class=nb>str</span>
<span class=o>...</span>
</code></pre></div> <p>FastAPI automatically generates interactive API documentation for easy viewing of all the routers/endpoints you have made available for the server. You can view the documentation through <code>&lt;API_SERVER_URL&gt;:&lt;PORT&gt;/docs</code>. In our case here, it is viewable through <a href=http://localhost:8080/docs><code>localhost:8080/docs</code></a>. It will look like such:</p> <p><img alt="FastAPI - OpenAPI Docs" src=../assets/screenshots/fastapi-openapi-docs.png></p> <p><strong>Reference(s):</strong></p> <ul> <li><a href=https://pytorch.org/tutorials/beginner/saving_loading_models.html>PyTorch Tutorials - Saving and Loading Models</a></li> <li><a href=https://fastapi.tiangolo.com>FastAPI Docs</a></li> <li><a href=https://pydantic-docs.helpmanual.io/usage/settings/ >Pydantic Docs - Settings Management</a></li> <li><a href=https://curl.se/docs/manual.html><code>curl</code> tutorial</a></li> </ul> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../07-job-orchestration/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Job Orchestration" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Job Orchestration </div> </div> </a> <a href=../09-batch-inferencing/ class="md-footer__link md-footer__link--next" aria-label="Next: Batch Inferencing" rel=next> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Batch Inferencing </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - AI Singapore </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/aisingapore target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/company/aisingapore target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://www.instagram.com/ai_singapore/ target=_blank rel=noopener title=www.instagram.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.footer", "navigation.tabs", "navigation.top", "toc.follow", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.78eede0e.min.js></script> <script src=../../termynal.js></script> </body> </html>